<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
<meta name="color-scheme" content="dark"/>
<title>Leaderboard â€” Referral Race</title>
<style>
  :root{
    --bg:#0b0c18;--ink:#eef2ff;--muted:#a0a7c9;--edge:rgba(255,255,255,.08);
    --p1:#8b5dff;--p2:#aa74ff;--glow:rgba(153,120,255,.3);--acc:#ffd86a;
    --card:#151533;--card2:#10112a;
  }
  *{box-sizing:border-box}
  html,body{margin:0;height:100%;overflow-x:hidden;
    background:radial-gradient(1000px 700px at 50% -10%,#1b1c3f 0%,transparent 60%),
               linear-gradient(180deg,#0b0c1a,#070813);
    color:var(--ink);font:15px/1.5 Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
  .app{max-width:520px;margin:0 auto;min-height:100dvh;display:grid;grid-template-rows:auto 1fr}

  /* Header */
  header{position:sticky;top:0;background:linear-gradient(180deg,#10112a,#0d0e23);
    border-bottom:1px solid var(--edge);padding:12px 16px;z-index:10}
  .hrow{display:flex;align-items:center;justify-content:space-between}
  .title{font-weight:900;font-size:18px}

  main{padding:14px 14px 116px}
  .card{background:linear-gradient(180deg,var(--card),var(--card2));border:1px solid var(--edge);
    border-radius:16px;padding:14px;margin-bottom:12px}
  h2,h3{margin:0 0 8px}
  p{margin:0 0 8px;color:#dfe5ff}

  /* Bottom nav */
  .iconnav{position:fixed;left:50%;transform:translateX(-50%);bottom:max(8px,env(safe-area-inset-bottom,0));
    width:min(520px,100% - 12px);display:grid;grid-template-columns:repeat(3,1fr);gap:8px;padding:10px 12px;
    background:rgba(16,17,42,.98);backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,.08);
    border-radius:16px;z-index:1000;--hot:#ff4fd8;--hot2:#ff9ae8;--ix:0}
  .iconnav .itab{appearance:none;border:0;background:transparent;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:6px;padding:10px 6px;color:#cdd7ff;font-weight:800;border-radius:14px}
  .iconnav .itab span{font-size:11px}
  .iconnav .ico{width:26px;height:26px;fill:none;stroke:currentColor;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round;transition:transform .25s,color .25s}
  .iconnav .itab.active .ico{transform:translateY(-2px) scale(1.06)} .iconnav .itab.active{color:#fff}
  .iconnav .inkbar{position:absolute;bottom:10px;height:44px;left:12px;right:12px;width:calc((100% - 24px - 8px*2)/3);
    border-radius:16px;background:radial-gradient(90% 140% at 10% 0%,var(--hot) 0%,var(--hot2) 60%,#ffcabf 100%);
    box-shadow:0 12px 26px rgba(255,79,216,.35), inset 0 -2px 6px rgba(0,0,0,.18);
    transform:translateX(calc(var(--ix) * (100% + 8px)));transition:transform .28s cubic-bezier(.22,.9,.24,1)}

  /* Leaderboard controls */
  .lbHead{display:flex;align-items:center;justify-content:space-between}
  .seg{display:flex;gap:8px;background:#0f1030;border:1px solid var(--edge);padding:6px;border-radius:12px}
  .seg button{appearance:none;border:0;background:transparent;color:#cfd4ff;font-weight:900;padding:8px 12px;border-radius:8px;cursor:pointer}
  .seg button.active{background:linear-gradient(180deg,var(--p2),var(--p1));color:#fff;box-shadow:0 8px 18px var(--glow)}
  .scope{font-size:12px;color:#b8c5ff;margin-top:6px}
  .filters{display:flex;gap:8px;margin-top:8px}
  .pick{appearance:none;background:#0f1030;color:#eaf0ff;border:1px solid var(--edge);border-radius:10px;padding:8px 10px;font-weight:800}

  /* Podium */
  .podiumWrap{margin-top:14px;background:linear-gradient(180deg,#20154a,#17143a);border:1px solid rgba(255,255,255,.12);
    border-radius:22px;padding:18px 12px 12px;box-shadow:0 24px 60px rgba(36,18,66,.35)}
  .podium{display:grid;grid-template-columns:1fr 1.2fr 1fr;gap:10px;align-items:end}
  .step{position:relative;border-radius:16px 16px 10px 10px;background:linear-gradient(180deg,#211a4d,#151038);
    padding:10px 8px 12px;border:1px solid rgba(255,255,255,.1);box-shadow:inset 0 -12px 18px rgba(100,70,180,.18),0 8px 18px rgba(0,0,0,.20);display:grid;place-items:center;min-height:88px}
  .s1{min-height:124px}.s2{min-height:104px}.s3{min-height:98px}
  .av{position:absolute;top:-64px;left:50%;transform:translateX(-50%);width:76px;height:76px;border-radius:50%;border:4px solid #fff;box-shadow:0 10px 22px rgba(0,0,0,.25);background:#fff center/cover no-repeat}
  .crown{position:absolute;top:-86px;left:50%;transform:translateX(-50%);width:40px;height:40px;border-radius:50%;
    display:grid;place-items:center;background:radial-gradient(circle at 35% 30%,#fff,var(--acc) 65%);color:#5a4300;border:2px solid rgba(0,0,0,.06);box-shadow:0 6px 14px rgba(0,0,0,.18)}
  .name{margin-top:14px;font-weight:900;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .s2 .name,.s3 .name{color:#e6e3ff}.s1 .name{color:#fff}
  .mini{color:#c7beff;font-size:12px;margin-top:2px}

  /* Table header row */
  .hdrRow{display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center;
    margin-top:14px;background:#2c2f55;border:1px solid rgba(255,255,255,.12);color:#e4e7ff;border-radius:14px;padding:10px;font-weight:900}

  /* List cards (Top 20) */
  .list{margin-top:10px;display:grid;gap:10px}
  .row{display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center;
    background:linear-gradient(180deg,rgba(143,106,255,.28),rgba(143,106,255,.16));
    border:1px solid rgba(166,134,255,.35);border-radius:14px;padding:10px}
  .rk{display:grid;place-items:center;width:40px;height:40px;border-radius:12px;font-weight:900;
    background:linear-gradient(180deg,rgba(255,255,255,.15),rgba(255,255,255,.05));border:1px solid rgba(255,255,255,.2)}
  .face{width:38px;height:38px;border-radius:50%;background:#eee center/cover no-repeat;border:2px solid #fff;margin-right:8px}
  .uname{font-weight:800}
  .val{font-weight:900;color:#fff}
  .left{display:flex;align-items:center;gap:8px}

  /* Search */
  .search{margin-top:12px;display:grid;grid-template-columns:1fr auto;gap:8px}
  .input{border-radius:12px;border:1px solid var(--edge);background:#0f1030;color:#eff3ff;padding:10px 12px}
  .go{appearance:none;border:0;border-radius:12px;padding:10px 12px;background:#ffd86a;color:#3a2400;font-weight:900;cursor:pointer;box-shadow:0 4px 0 rgba(0,0,0,.12)}
  .go:active{transform:translateY(1px);box-shadow:0 2px 0 rgba(0,0,0,.12)}
  .result{margin-top:8px;background:rgba(255,255,255,.92);border:1px solid rgba(0,0,0,.08);color:#2b2350;border-radius:12px;padding:10px 12px;font-weight:700;display:none}

  /* Community block (kept) */
  .comm .sharebar{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
  .comm .sharebtn{appearance:none;border:0;border-radius:12px;padding:10px 14px;font-weight:900;cursor:pointer;background:#ffd86a;color:#2a1a00;box-shadow:0 4px 0 rgba(0,0,0,.12)}
  .comm .list{display:grid;gap:14px;margin-top:12px}
  .comm .item{background:linear-gradient(180deg,#5a34dd,#4a2bc7);border:1px solid rgba(255,255,255,.12);border-radius:20px;padding:16px;color:#fff;display:flex;align-items:center;justify-content:space-between}
  .comm .left{display:flex;align-items:center;gap:12px}
  .comm .bubble{width:44px;height:44px;border-radius:12px;background:#fff;display:grid;place-items:center}
  .comm .sub{appearance:none;border:0;border-radius:12px;padding:10px 14px;background:#fff;color:#2a1a00;font-weight:900;cursor:pointer}
</style>
</head>
<body>
  <div class="app">
    <header>
      <div class="hrow">
        <div class="title" id="hdrTitle">Leaderboard</div>
        <div class="muted" style="font-size:12px">v3</div>
      </div>
    </header>
    <main id="view"></main>
  </div>

  <!-- Bottom Nav (3 tabs only) -->
  <nav class="iconnav" aria-label="Primary">
    <div class="inkbar" aria-hidden="true"></div>
    <button class="itab active" data-tab="ranks" data-idx="0" aria-label="Ranking Board">
      <svg class="ico" viewBox="0 0 24 24"><path d="M7 22V11a2 2 0 0 1 2-2h6v13H7zM3 22v-7a2 2 0 0 1 2-2h1v9H3zM17 22V5a2 2 0 0 1 2-2h2v19h-4zM10 5l2-3 2 3"/></svg><span>Ranking</span>
    </button>
    <button class="itab" data-tab="home" data-idx="1" aria-label="Home">
      <svg class="ico" viewBox="0 0 24 24"><path d="M4 10.5l8-6 8 6V20a2 2 0 0 1-2 2h-3.5a1.5 1.5 0 0 1-1.5-1.5V16a2 2 0 0 0-2-2 2 2 0 0 0-2 2v4.5A1.5 1.5 0 0 1 7.5 22H4a2 2 0 0 1-2-2v-9.5z"/></svg><span>Home</span>
    </button>
    <button class="itab" data-tab="community" data-idx="2" aria-label="Community">
      <svg class="ico" viewBox="0 0 24 24"><path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0 2c-4 0-8 2-8 5v1h16v-1c0-3-4-5-8-5z"/></svg><span>Community</span>
    </button>
  </nav>

<script>
/* ===== CONFIG: set your sheet + both tab GIDs ===== */
const SHEET_ID    = "1rJg4RYn0AkvsqhVGk5CwhZrYNz0gFC6_7ZPiDXigU-o"; // your spreadsheet
const GID_DAILY   = "1891032775";   // <-- set to the gid of your DAILY tab
const GID_WEEKLY  = "0";   // <-- set to the gid of your WEEKLY tab

/* ===== helpers ===== */
const $=(s,el)=> (el||document).querySelector(s);
const $all=(s,el)=> Array.from((el||document).querySelectorAll(s));
const esc=s=> String(s??'').replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
const unique=a=>Array.from(new Set(a));
const moveInk=ix=>document.querySelector('.iconnav').style.setProperty('--ix',ix);
const fmt=n=>{n=Number(n||0);return n>=1000?(Math.round(n/100)/10).toLocaleString()+"K":n.toLocaleString()};
const faceBg=url=>`url("${url}")`;

/* Avatars for ranks 1..20 */
const AVS=[
  "https://ricomx.ft-crm.com/media-api/serve/30739191-4079-40cd-9154-f15c869c9f35_1.png",
  "https://ricomx.ft-crm.com/media-api/serve/7e97b3d5-f53f-4211-b7d3-0c012a8e05ff_2.png",
  "https://ricomx.ft-crm.com/media-api/serve/4120e46c-d810-46bb-924d-fb7769b56c0c_3.png",
  "https://ricomx.ft-crm.com/media-api/serve/84bc31f3-69d6-47e9-950b-e557dd0cf4f6_4.png",
  "https://ricomx.ft-crm.com/media-api/serve/d0692e25-3fdf-4004-af72-b572175fd49c_5.png",
  "https://ricomx.ft-crm.com/media-api/serve/596c02c5-ad1c-42b7-9fb2-da6df154d35b_6.png",
  "https://ricomx.ft-crm.com/media-api/serve/587f1afe-0e39-4f76-8715-48496452cfdf_7.png",
  "https://ricomx.ft-crm.com/media-api/serve/6959ee62-92fa-4192-a2d6-f678a4934b4f_8.png",
  "https://ricomx.ft-crm.com/media-api/serve/a450b16e-9310-4e83-ae66-ea71822a218b_9.png",
  "https://ricomx.ft-crm.com/media-api/serve/24e07c3f-99fb-4bed-91f1-b91f1e0f7c8d_10.png",
  "https://ricomx.ft-crm.com/media-api/serve/120d451f-a6dc-4f7b-b3f4-a1b5b8642443_11.png",
  "https://ricomx.ft-crm.com/media-api/serve/65646abf-45f0-46b4-9c9c-f135f3b429e4_12.png",
  "https://ricomx.ft-crm.com/media-api/serve/685901d2-f392-4d9f-83bf-b8f5ae4cf3bc_13.png",
  "https://ricomx.ft-crm.com/media-api/serve/a3e8f9f5-851f-4048-b1ff-e7255de54266_14.png",
  "https://ricomx.ft-crm.com/media-api/serve/92cde2cb-1afa-4c2e-b0f7-bf77f6b37a4a_15.png",
  "https://ricomx.ft-crm.com/media-api/serve/1a77dbff-a836-4e7b-831f-77734198c725_16.png",
  "https://ricomx.ft-crm.com/media-api/serve/ab17bec9-169e-4e99-9e2d-e560fd29403e_17.png",
  "https://ricomx.ft-crm.com/media-api/serve/a698b757-2f99-49a7-95fb-68318d1637d6_18.png",
  "https://ricomx.ft-crm.com/media-api/serve/ab8c0632-b1d4-41e5-be64-ba1e96d5ab1b_19.png",
  "https://ricomx.ft-crm.com/media-api/serve/7c6d505e-174d-4214-9e93-bb7cdcc4098f_20.png",
];

/* Router */
let TAB='ranks';
$all('.iconnav .itab').forEach(btn=>{
  btn.addEventListener('click',()=>{
    TAB=btn.dataset.tab;
    $all('.iconnav .itab').forEach(b=>b.classList.toggle('active',b===btn));
    moveInk(parseInt(btn.dataset.idx,10));
    render();
  });
});

/* ===== GViz fetch + normalize ===== */
async function gviz(gid){
  const url=`https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json&gid=${encodeURIComponent(gid)}`;
  const text=await fetch(url,{cache:"no-store"}).then(r=>r.text());
  const j=(text.match(/google\.visualization\.Query\.setResponse\((.*)\);?/s)||[])[1]; if(!j) throw new Error('parse');
  const data=JSON.parse(j);
  const headers=data.table.cols.map(c=>c.label||c.id||"");
  const rows=data.table.rows.filter(r=>r&&r.c).map(r=> r.c.map(c=> c?(c.f!=null?c.f:c.v):""));
  return {headers,rows};
}
const pickIndex=(headers,aliases)=>{const L=headers.map(h=>String(h||'').toLowerCase());for(const a of aliases){const j=L.findIndex(h=>h.includes(a));if(j>-1)return j}return -1};
function normalize({headers:h,rows},mode){
  const ri=pickIndex(h,["rank","posiÃ§Ã£o","posicion"]);
  const ui=pickIndex(h,["username","user","player","name"]);
  const pi=pickIndex(h,["points","score","pontos"]);
  const wi=pickIndex(h,["week","semana"]);
  const di=pickIndex(h,["date","day","fecha"]);
  if(ri<0||ui<0||pi<0) throw new Error('Missing Rank/Username/Points columns');
  return rows.map(r=>({
    rank:Number(String(r[ri]).replace(/[^\d.\-]/g,''))||0,
    username:String(r[ui]||"").trim(),
    points:Number(String(r[pi]).replace(/[^\d.\-]/g,''))||0,
    week: wi>-1 ? String(r[wi]||"").trim() : "",
    date: di>-1 ? String(r[di]||"").trim() : ""
  })).filter(x=>x.username && x.rank>0).sort((a,b)=>a.rank-b.rank);
}

/* ===== Leaderboard view (exact arrangement) ===== */
let MODE='daily'; // 'daily' | 'weekly'
let DAILY=[], WEEKLY=[], DATES=[], WEEKS=[], CUR_DATE='', CUR_WEEK='', CURRENT_FULL=[];
function rankAvatar(r){const i=Math.min(Math.max(1,r),20)-1;return AVS[i]}
const maskName=s=>{s=String(s||''); if(s.length<=2) return s.replace(/.(?=.)/g,'*'); return s[0] + s.slice(1,-1).replace(/./g,'*') + s.slice(-1); };

async function renderRanks(){
  $('#view').innerHTML=`
    <div class="card">
      <div class="lbHead">
        <h2>Leaderboard</h2>
        <div class="seg">
          <button id="bDaily"  class="active">Daily</button>
          <button id="bWeekly">Weekly</button>
        </div>
      </div>
      <div id="scope" class="scope"></div>
      <div class="filters">
        <select id="pickDate" class="pick" style="display:none"></select>
        <select id="pickWeek" class="pick" style="display:none"></select>
      </div>
    </div>

    <div class="podiumWrap">
      <div class="podium">
        <div class="step s2"><div class="av" id="p2a"></div><div class="name" id="p2n">â€”</div><div class="mini" id="p2s"></div></div>
        <div class="step s1"><div class="crown">ðŸ‘‘</div><div class="av" id="p1a"></div><div class="name" id="p1n">â€”</div><div class="mini" id="p1s"></div></div>
        <div class="step s3"><div class="av" id="p3a"></div><div class="name" id="p3n">â€”</div><div class="mini" id="p3s"></div></div>
      </div>
    </div>

    <div class="hdrRow"><div>Rank</div><div>Player</div><div>Points</div></div>
    <div class="list" id="lb-list"></div>

    <div class="search">
      <input id="q" class="input" placeholder="Search username (full list)â€¦"/>
      <button id="find" class="go">Find</button>
    </div>
    <div id="mine" class="result"></div>
  `;

  // Load data once
  if(!DAILY.length){
    try{ DAILY = normalize(await gviz(GID_DAILY),'daily'); }
    catch(e){ console.warn('Daily sheet load failed',e); }
  }
  if(!WEEKLY.length){
    try{ WEEKLY = normalize(await gviz(GID_WEEKLY),'weekly'); }
    catch(e){ console.warn('Weekly sheet load failed',e); }
  }

  // Build pickers
  DATES = unique(DAILY.map(x=>x.date).filter(Boolean)).sort();
  WEEKS = unique(WEEKLY.map(x=>x.week).filter(Boolean)).sort((a,b)=>{
    const na=(a.match(/\d+/)||[])[0], nb=(b.match(/\d+/)||[])[0];
    return (na&&nb)? na-nb : a.localeCompare(b);
  });
  CUR_DATE = DATES[DATES.length-1]||"";
  CUR_WEEK = WEEKS[WEEKS.length-1]||"";

  const pDate=$('#pickDate'), pWeek=$('#pickWeek');
  pDate.innerHTML = DATES.map(d=>`<option>${d}</option>`).join('');
  pWeek.innerHTML = WEEKS.map(w=>`<option>${w}</option>`).join('');
  pDate.value=CUR_DATE; pWeek.value=CUR_WEEK;

  const bDaily=$('#bDaily'), bWeekly=$('#bWeekly');
  const setMode=m=>{
    MODE=m;
    bDaily.classList.toggle('active',m==='daily');
    bWeekly.classList.toggle('active',m==='weekly');
    pDate.style.display = m==='daily' ? '' : 'none';
    pWeek.style.display = m==='weekly' ? '' : 'none';
    draw();
  };
  bDaily.onclick=()=>setMode('daily');
  bWeekly.onclick=()=>setMode('weekly');
  pDate.onchange=()=>{CUR_DATE=pDate.value; draw();};
  pWeek.onchange=()=>{CUR_WEEK=pWeek.value; draw();};

  $('#find').onclick=doSearch;
  $('#q').addEventListener('keydown',e=>{if(e.key==='Enter')doSearch();});

  setMode(MODE);

  function currentRows(){
    if(MODE==='daily'){
      const arr = DAILY.filter(x=> (x.date||'')===CUR_DATE);
      return arr.sort((a,b)=>a.rank-b.rank);
    }else{
      const arr = WEEKLY.filter(x=> (x.week||'')===CUR_WEEK);
      return arr.sort((a,b)=>a.rank-b.rank);
    }
  }
  function scopeText(){
    return MODE==='daily' ? `Showing: <b>${esc(CUR_DATE||'â€”')}</b>` : `Showing: <b>${esc(CUR_WEEK||'â€”')}</b>`;
  }
  function setPod(n,row){
    const av=$(`#p${n}a`), nm=$(`#p${n}n`), sc=$(`#p${n}s`);
    if(row){
      av.style.backgroundImage=faceBg(rankAvatar(row.rank));
      nm.textContent=maskName(row.username);
      sc.textContent=fmt(row.points)+' points';
    }else{ av.style.backgroundImage='none'; nm.textContent='â€”'; sc.textContent=''; }
  }
  function draw(){
    $('#scope').innerHTML = scopeText();
    const rows = currentRows();
    CURRENT_FULL = rows.slice(); // for search

    setPod(1, rows.find(r=>r.rank===1));
    setPod(2, rows.find(r=>r.rank===2));
    setPod(3, rows.find(r=>r.rank===3));

    const list=$('#lb-list'); list.innerHTML='';
    rows.filter(r=>r.rank>=4 && r.rank<=20).forEach(r=>{
      list.insertAdjacentHTML('beforeend',`
        <div class="row">
          <div class="rk">${r.rank}</div>
          <div class="left">
            <div class="face" style="background-image:${faceBg(rankAvatar(r.rank))}"></div>
            <div class="uname">${esc(maskName(r.username))}</div>
          </div>
          <div class="val">${fmt(r.points)}</div>
        </div>`);
    });
  }
  function doSearch(){
    const q=($('#q').value||'').trim().toLowerCase();
    const box=$('#mine'); box.style.display='block';
    if(!q){ box.textContent='Enter a username'; return; }
    const hit=CURRENT_FULL.find(x=>x.username.toLowerCase()===q);
    if(!hit){ box.textContent='No match for the selected period.'; return; }
    const scope = MODE==='daily' ? CUR_DATE : CUR_WEEK;
    box.innerHTML = `<b>${esc(hit.username)}</b> â€” Rank <b>${hit.rank}</b> â€¢ ${fmt(hit.points)} pts â€¢ ${esc(scope)}`;
  }
}

/* ===== Home view ===== */
function renderHome(){
  $('#view').innerHTML=`
    <div class="card">
      <h2>Referral Race</h2>
      <p>Invite friends, climb the leaderboard, and win rewards.</p>
      <ul style="margin:6px 0 0 18px;color:#dfe5ff">
        <li>Each verified signup = <b>+1 point</b>.</li>
        <li><b>Weekly</b> winners announced every Monday.</li>
      </ul>
    </div>
    <div class="card">
      <details open>
        <summary><b>FAQ</b></summary>
        <details open><summary>How do I earn points?</summary><p>Share your referral link. Verified signups give points.</p></details>
        <details><summary>When are rewards credited?</summary><p>Within 72 hours after winners are announced.</p></details>
        <details><summary>Anti-fraud</summary><p>Duplicate/fake signups are removed and may lead to disqualification.</p></details>
      </details>
    </div>
  `;
}

/* ===== Community view (kept style) ===== */
function renderCommunity(){
  const referUrl=location.href;
  $('#view').innerHTML=`
    <div class="card comm">
      <h2>Share & Follow</h2>
      <p>Invite friends and follow us.</p>
      <div class="sharebar">
        <a class="sharebtn" target="_blank" rel="noopener"
           href="https://t.me/share/url?url=${encodeURIComponent(referUrl)}">Share on Telegram</a>
        <a class="sharebtn" target="_blank" rel="noopener"
           href="https://api.whatsapp.com/send?text=${encodeURIComponent('Join me: '+referUrl)}">Share on WhatsApp</a>
      </div>
    </div>
    <div class="comm">
      <div class="list">
        ${[
          ['Facebook','https://facebook.com/','https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg'],
          ['Instagram','https://instagram.com/','https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg'],
          ['Telegram','https://t.me/','https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/telegram.svg'],
          ['X','https://x.com/','https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/x.svg'],
          ['YouTube','https://youtube.com/','https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/youtube.svg'],
        ].map(([label,href,icon])=>`
          <div class="item">
            <div class="left">
              <div class="bubble"><img alt="" width="26" height="26" src="${icon}"/></div>
              <div style="font-weight:900">${label}</div>
            </div>
            <a class="sub" href="${href}" target="_blank" rel="noopener">Subscribe</a>
          </div>`).join('')}
      </div>
    </div>
  `;
}

/* ===== App boot ===== */
function render(){ if(TAB==='ranks') renderRanks(); else if(TAB==='home') renderHome(); else renderCommunity(); }
render(); moveInk(0);
</script>
</body>
</html>
